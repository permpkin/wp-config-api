(this["webpackJsonpwp-factory"]=this["webpackJsonpwp-factory"]||[]).push([[11],{163:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(28),s=a.n(i),r=a(12),o=a(13),l=a(25),m=a(15),u=a(20),p=a(11),h=a(8),f=a(198),v=a(189),y=a(199),b=a(168),d=a(196),g=a(176),E=a(197),S=a(181),k=(a(83),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",height:"24",width:"24",version:"1.0",viewBox:"0 0 5.5555557 5.5555555"},c.a.createElement("g",{transform:"matrix(1.0755 0 0 1.0755 -3.5103 -1.6684)"},c.a.createElement("path",{fill:"#1070ca",d:"m5.8465 1.9131c0.57932 0 1.1068 0.222 1.5022 0.58547-0.1938-0.0052-0.3872 0.11-0.3952 0.3738-0.0163 0.5333 0.6377 0.6469 0.2853 1.7196l-0.2915 0.8873-0.7939-2.3386c-0.0123-0.0362 0.002-0.0568 0.0465-0.0568h0.22445c0.011665 0 0.021201-0.00996 0.021201-0.022158v-0.13294c0-0.012193-0.00956-0.022657-0.021201-0.022153-0.42505 0.018587-0.8476 0.018713-1.2676 0-0.0117-0.0005-0.0212 0.01-0.0212 0.0222v0.13294c0 0.012185 0.00954 0.022158 0.021201 0.022158h0.22568c0.050201 0 0.064256 0.016728 0.076091 0.049087l0.3262 0.8921-0.4907 1.4817-0.8066-2.3758c-0.01-0.0298 0.0021-0.0471 0.0308-0.0471h0.25715c0.011661 0 0.021197-0.00996 0.021197-0.022158v-0.13294c0-0.012193-0.00957-0.022764-0.021197-0.022153-0.2698 0.014331-0.54063 0.017213-0.79291 0.019803 0.39589-0.60984 1.0828-1.0134 1.8639-1.0134l-0.0000029-0.0000062zm1.9532 1.1633c0.17065 0.31441 0.26755 0.67464 0.26755 1.0574 0 0.84005-0.46675 1.5712-1.1549 1.9486l0.6926-1.9617c0.1073-0.3036 0.2069-0.7139 0.1947-1.0443h-0.000004zm-1.2097 3.1504c-0.2325 0.0827-0.4827 0.1278-0.7435 0.1278-0.2247 0-0.4415-0.0335-0.6459-0.0955l0.68415-1.9606 0.70524 1.9284v-1e-7zm-1.6938-0.0854c-0.75101-0.35617-1.2705-1.1213-1.2705-2.0075 0-0.32852 0.071465-0.64038 0.19955-0.92096l1.071 2.9285 0.000003-0.000003zm0.95023-4.4367c1.3413 0 2.4291 1.0878 2.4291 2.4291s-1.0878 2.4291-2.4291 2.4291-2.4291-1.0878-2.4291-2.4291 1.0878-2.4291 2.4291-2.4291zm0-0.15354c1.4261 0 2.5827 1.1566 2.5827 2.5827s-1.1566 2.5827-2.5827 2.5827-2.5827-1.1566-2.5827-2.5827 1.1566-2.5827 2.5827-2.5827z"})))}}]),a}(n.Component)),O=a(35),j=a(26),K=a.n(j),P=a(36),w=a(17),x=a(177),N=a(178),C=a(179),A=a(180),_=a(182),T=a(183),I=a(184),F=a(185),J=a(49),z=a(44),D=Object(w.a)((function(e){return Promise.all([a.e(16),a.e(24)]).then(a.bind(null,238))})),B=Object(w.a)((function(e){return Promise.all([a.e(0),a.e(14),a.e(17)]).then(a.bind(null,261))})),M=Object(w.a)((function(e){return Promise.all([a.e(0),a.e(15)]).then(a.bind(null,252))})),R=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).menuStruct=[{label:"Scripts",key:"scripts",icon:c.a.createElement(g.a,null)},{label:"Styles",key:"styles",icon:c.a.createElement(x.a,null)},{label:"Post Types",key:"types",icon:c.a.createElement(N.a,null)},{label:"Taxonomies",key:"taxonomies",icon:c.a.createElement(C.a,null)},{label:"Custom Fields",key:"fields",icon:c.a.createElement(A.a,null)},{label:"Blocks",key:"blocks",icon:c.a.createElement(S.a,null)},{label:"Pages",key:"pages",icon:c.a.createElement(_.a,null)}],n.state={activePath:window.location.pathname,ready:!1},n.updateActivePath=n.updateActivePath.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(P.a)(K.a.mark((function e(){var t=this;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.a.getConfig().then((function(e){t.setState({ready:!0})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"updateActivePath",value:function(e,t){var a=this;e&&this.state.activePath!==t.pathname&&requestAnimationFrame((function(){a.setState({activePath:t.pathname})}))}},{key:"render",value:function(){var e=this;return c.a.createElement("section",null,this.state.ready?c.a.createElement(c.a.Fragment,null,c.a.createElement("nav",{className:"sidenav"},c.a.createElement(p.b,{className:"sidenav__item",activeClassName:"--active",to:"/".concat(this.props.match.params.siteKey,"/config"),exact:!0,isActive:function(t,a){e.updateActivePath(t,a)}},c.a.createElement(T.a,{appearance:"minimal",isSelected:this.state.activePath==="/".concat(this.props.match.params.siteKey,"/config")},c.a.createElement(I.a,null),"Overview")),c.a.createElement(p.b,{className:"sidenav__item",activeClassName:"--active",to:"/".concat(this.props.match.params.siteKey,"/config/settings"),exact:!0,isActive:function(t,a){e.updateActivePath(t,a)}},c.a.createElement(T.a,{appearance:"minimal",isSelected:this.state.activePath==="/".concat(this.props.match.params.siteKey,"/config/settings")},c.a.createElement(F.a,null)," Settings")),this.menuStruct.map((function(t,a){return c.a.createElement(p.b,{key:a,className:"sidenav__item",activeClassName:"--active",to:"/".concat(e.props.match.params.siteKey,"/config/").concat(t.key),isActive:function(t,a){e.updateActivePath(t,a)}},c.a.createElement(T.a,{appearance:"minimal",isSelected:e.state.activePath.startsWith("/".concat(e.props.match.params.siteKey,"/config/").concat(t.key))},t.icon,t.label))}))),c.a.createElement(h.d,null,c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/config/settings"),exact:!0,component:function(e){return c.a.createElement(B,{schemaKey:"Settings",isSingular:!0})}}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/config"),exact:!0,component:function(t){return c.a.createElement(D,{menuStruct:e.menuStruct})}}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/config/blocks"),exact:!0,component:function(e){return c.a.createElement(M,Object.assign({schemaKey:"Blocks"},e))}}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/config/blocks/:id"),exact:!0,component:function(e){return c.a.createElement(B,Object.assign({schemaKey:"Blocks"},e))}}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/config/fields"),exact:!0,component:function(e){return c.a.createElement(M,Object.assign({schemaKey:"CustomFields"},e))}}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/config/fields/:id"),exact:!0,component:function(e){return c.a.createElement(B,Object.assign({schemaKey:"CustomFields"},e))}}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/config/pages"),exact:!0,component:function(e){return c.a.createElement(M,Object.assign({schemaKey:"Pages"},e))}}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/config/pages/:id"),exact:!0,component:function(e){return c.a.createElement(B,Object.assign({schemaKey:"Pages"},e))}}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/config/types"),exact:!0,component:function(e){return c.a.createElement(M,Object.assign({schemaKey:"CustomPostType"},e))}}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/config/types/:id"),exact:!0,component:function(e){return c.a.createElement(B,Object.assign({schemaKey:"CustomPostType"},e))}}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/config/scripts"),exact:!0,component:function(e){return c.a.createElement(M,Object.assign({schemaKey:"Scripts"},e))}}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/config/scripts/:id"),exact:!0,component:function(e){return c.a.createElement(B,Object.assign({schemaKey:"Scripts"},e))}}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/config/styles"),exact:!0,component:function(e){return c.a.createElement(M,Object.assign({schemaKey:"Styles"},e))}}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/config/styles/:id"),exact:!0,component:function(e){return c.a.createElement(B,Object.assign({schemaKey:"Styles"},e))}}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/config/taxonomies"),exact:!0,component:function(e){return c.a.createElement(M,Object.assign({schemaKey:"Taxonomies"},e))}}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/config/taxonomies/:id"),exact:!0,component:function(e){return c.a.createElement(B,Object.assign({schemaKey:"Taxonomies"},e))}}))):c.a.createElement(J.a,{width:"100vw",height:"calc(100vh - 50px)",display:"flex",alignItems:"center",justifyContent:"center"},c.a.createElement(z.a,null)))}}]),a}(n.Component),G=a(186),q=a(187),L=a(188),X=Object(w.a)((function(e){return Promise.all([a.e(0),a.e(1)]).then(a.bind(null,253))})),V=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={activePath:window.location.pathname,ready:!1},a.updateActivePath=a.updateActivePath.bind(Object(l.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(P.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({ready:!0});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateActivePath",value:function(e,t){var a=this;e&&this.state.activePath!==t.pathname&&requestAnimationFrame((function(){a.setState({activePath:t.pathname})}))}},{key:"render",value:function(){var e=this;return c.a.createElement("section",null,c.a.createElement("nav",{className:"sidenav"},c.a.createElement(p.b,{className:"sidenav__item",activeClassName:"--active",to:"/".concat(this.props.match.params.siteKey,"/templates"),isActive:function(t,a){e.updateActivePath(t,a)}},c.a.createElement(T.a,{appearance:"minimal",isSelected:this.state.activePath==="/".concat(this.props.match.params.siteKey,"/templates")},c.a.createElement(G.a,null)," Search")),c.a.createElement(p.b,{className:"sidenav__item",activeClassName:"--active",to:"/".concat(this.props.match.params.siteKey,"/templates/installed"),isActive:function(t,a){e.updateActivePath(t,a)}},c.a.createElement(T.a,{appearance:"minimal",isSelected:this.state.activePath==="/".concat(this.props.match.params.siteKey,"/templates/installed")},c.a.createElement(q.a,null)," Installed")),c.a.createElement(p.b,{className:"sidenav__item",activeClassName:"--active",to:"/".concat(this.props.match.params.siteKey,"/templates/my-account"),isActive:function(t,a){e.updateActivePath(t,a)}},c.a.createElement(T.a,{appearance:"minimal",isSelected:this.state.activePath==="/".concat(this.props.match.params.siteKey,"/templates/my-account")},c.a.createElement(L.a,null)," My Account"))),c.a.createElement(h.d,null,c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/templates"),exact:!0,component:Object(w.a)((function(){return Promise.all([a.e(0),a.e(1)]).then(a.bind(null,253))}))}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/templates/installed"),component:Object(w.a)((function(){return Promise.all([a.e(0),a.e(18)]).then(a.bind(null,254))}))}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/templates/my-account"),component:Object(w.a)((function(){return Promise.all([a.e(0),a.e(19)]).then(a.bind(null,255))}))}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/templates/:type"),exact:!0,component:function(e){return c.a.createElement(X,e)}})))}}]),n}(n.Component),U=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).menuStruct=[{label:"Activity",key:"activity"},{label:"Email Debugger",key:"email-debugger"},{label:"Run Tests",key:"test-classes"},{label:"Deploy",key:"deploy"}],a.state={activePath:window.location.pathname,ready:!1},a.updateActivePath=a.updateActivePath.bind(Object(l.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(P.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({ready:!0});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateActivePath",value:function(e,t){var a=this;e&&this.state.activePath!==t.pathname&&requestAnimationFrame((function(){a.setState({activePath:t.pathname})}))}},{key:"render",value:function(){var e=this;return c.a.createElement("section",null,c.a.createElement("nav",{className:"sidenav"},this.menuStruct.map((function(t,a){return c.a.createElement(p.b,{key:a,className:"sidenav__item",activeClassName:"--active",to:"/".concat(e.props.match.params.siteKey,"/tools/").concat(t.key),isActive:function(t,a){e.updateActivePath(t,a)}},c.a.createElement(T.a,{appearance:"minimal",isSelected:e.state.activePath==="/".concat(e.props.match.params.siteKey,"/tools/").concat(t.key)},t.label))}))),c.a.createElement(h.d,null,c.a.createElement(h.b,{exact:!0,path:"/tools",render:function(){return c.a.createElement(h.a,{to:"/tools/activity"})}}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/tools/email-debugger"),component:Object(w.a)((function(){return Promise.all([a.e(0),a.e(22)]).then(a.bind(null,256))}))}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/tools/test-classes"),component:Object(w.a)((function(){return Promise.all([a.e(0),a.e(23)]).then(a.bind(null,257))}))}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/tools/deploy"),component:Object(w.a)((function(){return Promise.all([a.e(0),a.e(21)]).then(a.bind(null,258))}))}),c.a.createElement(h.b,{path:"/".concat(this.props.match.params.siteKey,"/tools/activity"),component:Object(w.a)((function(){return Promise.all([a.e(0),a.e(20)]).then(a.bind(null,259))}))})))}}]),n}(n.Component),W=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={busy:!0,currentSite:!1,sites:[]},n.setSite=n.setSite.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.a.getSites().then((function(t){var a=t.filter((function(e){return window.location.pathname.split("/")[1]===e.key}))[0];O.a.site=a,e.setState({sites:t,currentSite:a||!1,busy:!1})}))}},{key:"setSite",value:function(e){O.a.site=e,e?this.setState({currentSite:e}):this.setState({currentSite:!1})}},{key:"render",value:function(){var e,t,a,n=this;return c.a.createElement("main",null,this.state.busy?c.a.createElement(z.a,null):c.a.createElement(p.a,null,c.a.createElement("header",null,c.a.createElement("nav",{className:"nav nav--left"},c.a.createElement("a",{href:"/wp-admin",className:"nav__item"},c.a.createElement(k,null)),c.a.createElement("div",{className:"nav__item"},c.a.createElement(f.a,{position:v.a.BOTTOM_LEFT,content:function(e){var t=e.close;return c.a.createElement(y.a,null,c.a.createElement(y.a.Group,null,n.state.sites.map((function(e,a){var i;return c.a.createElement(p.b,{key:e.key,className:"nav__item",activeClassName:"--active",to:"/".concat(e.key),onClick:function(){n.setSite(e),t()}},c.a.createElement(y.a.Item,{disabled:(null===(i=n.state.currentSite)||void 0===i?void 0:i.key)===e.key,secondaryText:"\u2318".concat(a+1)},"".concat(e.name)))}))),c.a.createElement(y.a.Divider,null),c.a.createElement(y.a.Group,null,c.a.createElement(y.a.Item,{secondaryText:"\u2318N"},"Add New Site"),c.a.createElement(y.a.Item,null,c.a.createElement(p.b,{className:"nav__item",to:"/",onClick:function(){n.setSite(!1),t()}},"Sites Overview"))))}},c.a.createElement(b.a,{appearance:"minimal"},this.state.currentSite?c.a.createElement(c.a.Fragment,null,this.state.currentSite.name,c.a.createElement(d.a,null)):"Select Site"))),this.state.currentSite?c.a.createElement(c.a.Fragment,null,c.a.createElement(p.b,{className:"nav__item",activeClassName:"--active",to:"/".concat(null===(e=this.state.currentSite)||void 0===e?void 0:e.key,"/config")},c.a.createElement(b.a,{appearance:"minimal"},c.a.createElement(g.a,{marginRight:5})," Config")),c.a.createElement(p.b,{className:"nav__item",activeClassName:"--active",to:"/".concat(null===(t=this.state.currentSite)||void 0===t?void 0:t.key,"/tools")},c.a.createElement(b.a,{appearance:"minimal"},c.a.createElement(E.a,{marginRight:5})," Tools")),c.a.createElement(p.b,{className:"nav__item",activeClassName:"--active",to:"/".concat(null===(a=this.state.currentSite)||void 0===a?void 0:a.key,"/templates")},c.a.createElement(b.a,{appearance:"minimal"},c.a.createElement(S.a,{marginRight:5})," Templates"))):null)),this.state.currentSite?c.a.createElement(c.a.Fragment,null,c.a.createElement(h.b,{path:"/:siteKey/config",component:R}),c.a.createElement(h.b,{path:"/:siteKey/templates",component:V}),c.a.createElement(h.b,{path:"/:siteKey/tools",component:U})):null))}}]),a}(n.Component),H=a(72);s.a.render(c.a.createElement(H.a,{domain:"peterkav.au.auth0.com",clientId:"CLgaEX4C4e6gREsKTrX1afLGXdCgpSni",redirectUri:window.location.origin},c.a.createElement(W,null)),document.getElementById("root"))},35:function(e,t,a){"use strict";var n=a(12),c=a(13),i=new(function(){function e(){Object(n.a)(this,e),this.host="https://wp-factory-api.herokuapp.com",this.version="v1",this.site=!1}return Object(c.a)(e,[{key:"get",value:function(e){var t=this;return new Promise((function(a,n){fetch("".concat(t.host,"/api/").concat(t.version).concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){return n(e)}))}))}},{key:"post",value:function(e,t){var a=this;return new Promise((function(t,n){fetch("".concat(a.host,"/api/").concat(a.version).concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){return n(e)}))}))}},{key:"getSites",value:function(){return this.get("/sites")}},{key:"addSite",value:function(){return this.post("/sites",{})}},{key:"setActiveSite",value:function(e){this.getConfig(),this.site=e}},{key:"getSchema",value:function(e){var t=this;return new Promise((function(a,n){localStorage.getItem("@schema/".concat(e))?a(JSON.parse(localStorage.getItem("@schema/".concat(e)))):t.get("/sites/".concat(t.site.key,"/config/").concat(e,"/schema")).then((function(t){localStorage.setItem("@schema/".concat(e),JSON.stringify(t)),a(t)})).catch((function(e){return n(e)}))}))}},{key:"getConfig",value:function(){var e=this;return new Promise((function(t,a){localStorage.getItem("@config/".concat(e.site.key))?t(JSON.parse(localStorage.getItem("@config/".concat(e.site.key)))):e.get("/sites/".concat(e.site.key,"/config")).then((function(a){localStorage.setItem("@config/".concat(e.site.key,"/config"),JSON.stringify(a)),Object.keys(a).forEach((function(t){localStorage.setItem("@config/".concat(e.site.key,"/config/").concat(t),JSON.stringify(a[t]))})),t(a)})).catch((function(e){return a(e)}))}))}},{key:"getValue",value:function(e){var t=this;return new Promise((function(a,n){localStorage.getItem("@config/".concat(t.site.key,"/config/").concat(e))?a(JSON.parse(localStorage.getItem("@config/".concat(t.site.key,"/config/").concat(e)))):t.get("/sites/".concat(t.site.key,"/config/").concat(e)).then((function(n){localStorage.setItem("@config/".concat(t.site.key,"/config/").concat(e),JSON.stringify(n)),a(n)})).catch((function(e){return n(e)}))}))}},{key:"setValue",value:function(e){}}]),e}());t.a=i},44:function(e,t,a){"use strict";var n=a(12),c=a(13),i=a(15),s=a(20),r=a(0),o=a.n(r),l=a(49),m=a(73),u=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement(l.a,{display:"flex",alignItems:"center",justifyContent:"center",height:50},o.a.createElement(m.a,{size:25}))}}]),a}(r.Component);t.a=u},78:function(e,t,a){e.exports=a(163)},83:function(e,t,a){}},[[78,12,13]]]);
//# sourceMappingURL=main.4465406b.chunk.js.map